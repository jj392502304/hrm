var App=function(){var e=!1,a=!1,o=!1,t=!1,i=[],n={blue:"#4b8df8",red:"#e02222",green:"#35aa47",purple:"#852b99",grey:"#555555","light-grey":"#fafafa",yellow:"#ffb848"},s=function(){"rtl"===$("body").css("direction")&&(e=!0),a=!!navigator.userAgent.match(/MSIE 8.0/),o=!!navigator.userAgent.match(/MSIE 9.0/),(t=!!navigator.userAgent.match(/MSIE 10/))&&jQuery("html").addClass("ie10")},r=function(){($(window).width()<=1280||$("body").hasClass("page-boxed"))&&$(".responsive").each(function(){var e=$(this).attr("data-tablet"),a=$(this).attr("data-desktop");e&&($(this).removeClass(a),$(this).addClass(e))}),$(window).width()>1280&&!1===$("body").hasClass("page-boxed")&&$(".responsive").each(function(){var e=$(this).attr("data-tablet"),a=$(this).attr("data-desktop");e&&($(this).removeClass(e),$(this).addClass(a))})},l=function(){$(window).width()<980&&$("body").removeClass("page-sidebar-closed")},c=function(){for(var e in i)i[e].call()},d=function(){A(),l(),r(),u(),D(),v(),c()},h=function(){l(),r(),u()},p=function(){var e;if(a){var o;$(window).resize(function(){o!=document.documentElement.clientHeight&&(e&&clearTimeout(e),e=setTimeout(function(){d()},50),o=document.documentElement.clientHeight)})}else $(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){console.log("resize"),d()},50)})},u=function(){var e,a=$(".page-content"),o=$(".page-sidebar"),t=$("body");if(!0===t.hasClass("page-footer-fixed")&&!1===t.hasClass("page-sidebar-fixed")){var i=$(window).height()-$(".footer").height();a.height()<i&&a.attr("style","min-height:"+i+"px !important")}else(e=t.hasClass("page-sidebar-fixed")?b():o.height()+20)>=a.height()&&a.attr("style","min-height:"+e+"px !important")},f=function(){jQuery(".page-sidebar").on("click","li > a",function(e){if(0!=$(this).next().hasClass("sub-menu")){var a=$(this).parent().parent();a.children("li.open").children("a").children(".arrow").removeClass("open"),a.children("li.open").children(".sub-menu").slideUp(200),a.children("li.open").removeClass("open");var o=jQuery(this).next();o.is(":visible")?(jQuery(".arrow",jQuery(this)).removeClass("open"),jQuery(this).parent().removeClass("open"),o.slideUp(200,function(){u()})):(jQuery(".arrow",jQuery(this)).addClass("open"),jQuery(this).parent().addClass("open"),o.slideDown(200,function(){u()})),e.preventDefault()}else 0==$(".btn-navbar").hasClass("collapsed")&&$(".btn-navbar").click()}),jQuery(".page-sidebar").on("click"," li > a.ajaxify",function(e){e.preventDefault(),App.scrollTop();var a=$(this).attr("href"),o=jQuery(".page-sidebar ul"),t=$(".page-content"),i=$(".page-content .page-content-body");o.children("li.active").removeClass("active"),o.children("arrow.open").removeClass("open"),$(this).parents("li").each(function(){$(this).addClass("active"),$(this).children("a > span.arrow").addClass("open")}),$(this).parents("li").addClass("active"),App.blockUI(t,!1),$.post(a,{},function(e){App.unblockUI(t),i.html(e),App.fixContentHeight(),App.initUniform()})})},b=function(){var e=$(window).height()-$(".header").height()+1;return $("body").hasClass("page-footer-fixed")&&(e-=$(".footer").height()),e},v=function(){var a=$(".page-sidebar-menu");if(1===a.parent(".slimScrollDiv").size()&&(a.slimScroll({destroy:!0}),a.removeAttr("style"),$(".page-sidebar").removeAttr("style")),0!==$(".page-sidebar-fixed").size()){if($(window).width()>=980){var o=b();a.slimScroll({size:"7px",color:"#a1b2bd",opacity:.3,position:e?"left":1===$(".page-sidebar-on-right").size()?"left":"right",height:o,allowPageScroll:!1,disableFadeOut:!1}),u()}}else u()},g=function(){!1!==$("body").hasClass("page-sidebar-fixed")&&($(".page-sidebar").off("mouseenter").on("mouseenter",function(){var e=$("body");!1===e.hasClass("page-sidebar-closed")||!1===e.hasClass("page-sidebar-fixed")||$(this).hasClass("page-sidebar-hovering")||(e.removeClass("page-sidebar-closed").addClass("page-sidebar-hover-on"),$(this).addClass("page-sidebar-hovering"),$(this).animate({width:225},400,"",function(){$(this).removeClass("page-sidebar-hovering")}))}),$(".page-sidebar").off("mouseleave").on("mouseleave",function(){var e=$("body");!1===e.hasClass("page-sidebar-hover-on")||!1===e.hasClass("page-sidebar-fixed")||$(this).hasClass("page-sidebar-hovering")||($(this).addClass("page-sidebar-hovering"),$(this).animate({width:35},400,"",function(){$("body").addClass("page-sidebar-closed").removeClass("page-sidebar-hover-on"),$(this).removeClass("page-sidebar-hovering")}))}))},y=function(){$(".page-sidebar").on("click",".sidebar-toggler",function(e){var a=$("body"),o=$(".page-sidebar");if(a.hasClass("page-sidebar-hover-on")&&a.hasClass("page-sidebar-fixed")||o.hasClass("page-sidebar-hovering"))return a.removeClass("page-sidebar-hover-on"),o.css("width","").hide().show(),e.stopPropagation(),void c();$(".sidebar-search",o).removeClass("open"),a.hasClass("page-sidebar-closed")?(a.removeClass("page-sidebar-closed"),a.hasClass("page-sidebar-fixed")&&o.css("width","")):a.addClass("page-sidebar-closed"),c()}),$(".page-sidebar").on("click",".sidebar-search .remove",function(e){e.preventDefault(),$(".sidebar-search").removeClass("open")}),$(".page-sidebar").on("keypress",".sidebar-search input",function(e){if(13==e.which)return window.location.href="extra_search.html",!1}),$(".sidebar-search .submit").on("click",function(e){e.preventDefault(),$("body").hasClass("page-sidebar-closed")&&0==$(".sidebar-search").hasClass("open")?(1===$(".page-sidebar-fixed").size()&&$(".page-sidebar .sidebar-toggler").click(),$(".sidebar-search").addClass("open")):window.location.href="extra_search.html"})},m=function(){$(".header").on("click",".hor-menu .hor-menu-search-form-toggler",function(e){$(this).hasClass("hide")?($(this).removeClass("hide"),$(".header .hor-menu .search-form").hide()):($(this).addClass("hide"),$(".header .hor-menu .search-form").show()),e.preventDefault()}),$(".header").on("click",".hor-menu .search-form .btn",function(e){window.location.href="extra_search.html",e.preventDefault()}),$(".header").on("keypress",".hor-menu .search-form input",function(e){if(13==e.which)return window.location.href="extra_search.html",!1})},C=function(){jQuery(".footer").on("click",".go-top",function(e){App.scrollTo(),e.preventDefault()})},w=function(){jQuery("body").on("click",".portlet .tools a.remove",function(e){e.preventDefault();var a=jQuery(this).parents(".portlet");a.next().hasClass("portlet")||a.prev().hasClass("portlet")?jQuery(this).parents(".portlet").remove():jQuery(this).parents(".portlet").parent().remove()}),jQuery("body").on("click",".portlet .tools a.reload",function(e){e.preventDefault();var a=jQuery(this).parents(".portlet");App.blockUI(a),window.setTimeout(function(){App.unblockUI(a)},1e3)}),jQuery("body").on("click",".portlet .tools .collapse, .portlet .tools .expand",function(e){e.preventDefault();var a=jQuery(this).closest(".portlet").children(".portlet-body");jQuery(this).hasClass("collapse")?(jQuery(this).removeClass("collapse").addClass("expand"),a.slideUp(200)):(jQuery(this).removeClass("expand").addClass("collapse"),a.slideDown(200))})},x=function(){if(jQuery().uniform){var e=$("input[type=checkbox]:not(.toggle), input[type=radio]:not(.toggle, .star)");e.size()>0&&e.each(function(){0==$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())})}},j=function(){$(".accordion").collapse().height("auto");var e;jQuery("body").on("click",".accordion.scrollable .accordion-toggle",function(){e=jQuery(this)}),jQuery("body").on("shown",".accordion.scrollable",function(){jQuery("html,body").animate({scrollTop:e.offset().top-150},"slow")})},Q=function(){var e=function(e){$(e).each(function(){var e=$($($(this).attr("href"))),a=$(this).parent().parent();a.height()>e.height()&&e.css("min-height",a.height())})};if($("body").on("shown",'.nav.nav-tabs.tabs-left a[data-toggle="tab"], .nav.nav-tabs.tabs-right a[data-toggle="tab"]',function(){e($(this))}),$("body").on("shown",".nav.nav-tabs",function(){u()}),e('.nav.nav-tabs.tabs-left > li.active > a[data-toggle="tab"], .nav.nav-tabs.tabs-right > li.active > a[data-toggle="tab"]'),location.hash){var a=location.hash.substr(1);$('a[href="#'+a+'"]').click()}},k=function(){$(".scroller").each(function(){$(this).slimScroll({size:"7px",color:"#a1b2bd",position:e?"left":"right",height:$(this).attr("data-height"),alwaysVisible:"1"==$(this).attr("data-always-visible"),railVisible:"1"==$(this).attr("data-rail-visible"),disableFadeOut:!0})})},A=function(){App.isTouchDevice()?jQuery(".tooltips:not(.no-tooltip-on-touch-device)").tooltip():jQuery(".tooltips").tooltip()},T=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(e){e.stopPropagation()})},z=function(){jQuery(".popovers").popover()},D=function(){jQuery().chosen&&$(".chosen").each(function(){$(this).chosen({allow_single_deselect:"1"===$(this).attr("data-with-diselect")})})},U=function(){jQuery.fancybox&&jQuery(".fancybox-button").size()>0&&jQuery(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})},E=function(){var e=$(".color-panel");0==$("body").hasClass("page-boxed")&&$(".layout-option",e).val("fluid"),$(".sidebar-option",e).val("default"),$(".header-option",e).val("fixed"),$(".footer-option",e).val("default");var a=function(){$("body").removeClass("page-boxed").removeClass("page-footer-fixed").removeClass("page-sidebar-fixed").removeClass("page-header-fixed"),$(".header > .navbar-inner > .container").removeClass("container").addClass("container-fluid"),1===$(".page-container").parent(".container").size()&&$(".page-container").insertAfter(".header"),1===$(".footer > .container").size()?$(".footer").html($(".footer > .container").html()):1===$(".footer").parent(".container").size()&&$(".footer").insertAfter(".page-container"),$("body > .container").remove()},o="",t=function(e){console.log(e+" helloworld"),$("#style_color").attr("href","../css/"+e+".css"),$.cookie("style_color",e)};$(".icon-color",e).click(function(){$(".color-mode").show(),$(".icon-color-close").show()}),$(".icon-color-close",e).click(function(){$(".color-mode").hide(),$(".icon-color-close").hide()}),$("li",e).click(function(){var a=$(this).attr("data-style");t(a),$(".inline li",e).removeClass("current"),$(this).addClass("current")}),$(".layout-option, .header-option, .sidebar-option, .footer-option",e).change(function(){var t=$(".layout-option",e).val(),i=$(".sidebar-option",e).val(),n=$(".header-option",e).val(),s=$(".footer-option",e).val();if("fixed"==i&&"default"==n&&(alert("固定侧边栏选择默认的标题是不支持。继续用默认工具栏默认标题。"),$(".sidebar-option",e).val("default"),i="default"),a(),"boxed"===t){$("body").addClass("page-boxed"),$(".header > .navbar-inner > .container-fluid").removeClass("container-fluid").addClass("container");$(".header").after('<div class="container"></div>');$(".page-container").appendTo("body > .container"),"fixed"===s||"default"===i?$(".footer").html('<div class="container">'+$(".footer").html()+"</div>"):$(".footer").appendTo("body > .container")}o!=t&&c(),o=t,"fixed"===n?($("body").addClass("page-header-fixed"),$(".header").removeClass("navbar-static-top").addClass("navbar-fixed-top")):($("body").removeClass("page-header-fixed"),$(".header").removeClass("navbar-fixed-top").addClass("navbar-static-top")),"fixed"===i?$("body").addClass("page-sidebar-fixed"):$("body").removeClass("page-sidebar-fixed"),"fixed"===s?$("body").addClass("page-footer-fixed"):$("body").removeClass("page-footer-fixed"),u(),v(),g()})},S=function(){(a||o)&&jQuery("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var e=jQuery(this);""==e.val()&&""!=e.attr("placeholder")&&e.addClass("placeholder").val(e.attr("placeholder")),e.focus(function(){e.val()==e.attr("placeholder")&&e.val("")}),e.blur(function(){""!=e.val()&&e.val()!=e.attr("placeholder")||e.val(e.attr("placeholder"))})})};return{init:function(){s(),p(),x(),k(),h(),v(),g(),f(),m(),y(),S(),C(),E(),w(),T(),Q(),A(),z(),j(),D(),App.addResponsiveHandler(D)},fixContentHeight:function(){u()},addResponsiveHandler:function(e){i.push(e)},setEqualHeight:function(e){(e=jQuery(e)).each(function(){var e=$(this).height();e>0&&(tallestColumn=e)}),e.height(0)},scrollTo:function(e,a){pos=e?e.offset().top:0,jQuery("html,body").animate({scrollTop:pos+(a||0)},"slow")},scrollTop:function(){App.scrollTo()},blockUI:function(e,a){(e=jQuery(e)).block({message:'<img src="../../images/ajax-loading.gif" align="">',centerY:void 0==a||a,css:{top:"10%",border:"none",padding:"2px",backgroundColor:"none"},overlayCSS:{backgroundColor:"#000",opacity:.05,cursor:"wait"}})},unblockUI:function(e){jQuery(e).unblock({onUnblock:function(){jQuery(e).removeAttr("style")}})},initUniform:function(e){e?jQuery(e).each(function(){0==$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())}):x()},initChosenSelect:function(e){$(e).chosen({allow_single_deselect:!0})},initFancybox:function(){U()},getActualVal:function(e){return(e=jQuery(e)).val()===e.attr("placeholder")?"":e.val()},getURLParameter:function(e){var a,o,t=window.location.search.substring(1).split("&");for(a=0;a<t.length;a++)if((o=t[a].split("="))[0]==e)return unescape(o[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},isIE8:function(){return a},isRTL:function(){return e},getLayoutColorCode:function(e){return n[e]?n[e]:""}}}();