var adc_table=function(){var loadData=function(jsonStr){var obj=eval("("+jsonStr+")"),key,value,tagName,type,arr;for(x in obj)key=x,value=obj[x],$("[name='"+key+"'],[name='"+key+"[]']").each(function(){if(tagName=$(this)[0].tagName,type=$(this).attr("type"),"INPUT"==tagName)if("radio"==type)$(this).attr("checked",$(this).val()==value);else if("checkbox"==type){arr=value.split(",");for(var a=0;a<arr.length;a++)if($(this).val()==arr[a]){$(this).attr("checked",!0);break}}else $(this).val(value);else"SELECT"==tagName?$(this).val(value.split(",")).select2():"TEXTAREA"==tagName&&$(this).val(value)})};return{init:function(a,e,t,s){s=s||[];$("#"+a).dataTable({aLengthMenu:[[5,15,20,-1],[5,15,20,"All"]],iDisplayLength:10,iDisplayStart:0,bLengthChange:!0,bPaginate:!0,bFilter:!0,bSort:!0,searching:!0,pagingType:"full_numbers",sDom:"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"每页显示 _MENU_ 条记录",sZeroRecords:"对不起，查询不到相关数据！",sEmptyTable:"表中无数据存在！",sInfo:"当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",sInfoFiltered:"数据表中共为 _MAX_ 条记录",sSearch:"搜索",oPaginate:{sFirst:"首页",sPrevious:"上一页",sNext:"下一页",sLast:"末页"}},aoColumnDefs:[{bSortable:!1,aTargets:s}],aoColumns:t,bProcessing:!0,bServerSide:!0,sAjaxSource:e,sAjaxDataProp:"list",fnServerData:function(a,e,t,s){console.log($(this)),$.ajax({url:a,data:{usname:e[10].value},type:"get",success:function(a){a.data.iTotalRecords=a.data.count,a.data.iTotalDisplayRecords=a.data.count,t(a.data)}})}});jQuery("#"+a+" .group-checkable").change(function(){var a=jQuery(this).attr("data-set"),e=jQuery(this).is(":checked");console.log(a,e),jQuery(a).each(function(){e?$(this).attr("checked","true"):$(this).removeAttr("checked")})})},loadData:loadData}}();